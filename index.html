<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FibreGuard Trend Spotter</title>
<style>
  :root {
    --bg: #0a0a0a; --bg2: #141414; --bg3: #1c1c1e;
    --text: #f5f5f7; --text2: #98989d; --text3: #6e6e73;
    --accent: #03fc7b; --accent2: #02d468; --accent-bg: rgba(3,252,123,0.06);
    --red: #ff3b30; --orange: #ff9500; --blue: #007aff; --purple: #af52de;
    --card: #1c1c1e; --card-border: rgba(255,255,255,0.08);
    --shadow: 0 2px 12px rgba(0,0,0,0.3);
    --overlap-bg: rgba(3,252,123,0.1);
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body { font-family:-apple-system,BlinkMacSystemFont,'SF Pro Display','Segoe UI',sans-serif; background:var(--bg); color:var(--text); line-height:1.5; }
  .header { padding:28px 40px 20px; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid var(--card-border); }
  .header h1 { font-size:26px; font-weight:700; letter-spacing:-0.5px; }
  .header h1 span { color:var(--accent); }
  .header-right { display:flex; gap:12px; align-items:center; }
  .last-update { font-size:12px; color:var(--text3); }
  .theme-toggle { width:36px; height:36px; border-radius:50%; border:1px solid var(--card-border); background:var(--card); cursor:pointer; font-size:16px; display:flex; align-items:center; justify-content:center; transition:all 0.2s; }
  .theme-toggle:hover { transform:scale(1.1); }

  /* Methodology banner */
  .methodology { padding:12px 40px; background:var(--bg2); border-bottom:1px solid var(--card-border); font-size:12px; color:var(--text3); }
  .methodology strong { color:var(--text2); }

  /* Search */
  .search-bar { padding:16px 40px 0; }
  .search-input { width:100%; max-width:480px; padding:10px 16px 10px 40px; border-radius:12px; border:1px solid var(--card-border); background:var(--card); color:var(--text); font-size:14px; outline:none; transition:border-color 0.2s; background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%2386868b' viewBox='0 0 16 16'%3E%3Cpath d='M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85zm-5.242.656a5 5 0 1 1 0-10 5 5 0 0 1 0 10z'/%3E%3C/svg%3E"); background-repeat:no-repeat; background-position:14px center; }
  .search-input:focus { border-color:var(--accent); }
  .search-input::placeholder { color:var(--text3); }

  /* Priority Queue */
  .priority-queue { padding:20px 40px 0; }
  .pq-title { font-size:13px; font-weight:700; text-transform:uppercase; letter-spacing:1px; color:var(--red); margin-bottom:12px; }
  .pq-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:12px; }
  .pq-card { background:linear-gradient(135deg, rgba(255,59,48,0.05), rgba(255,149,0,0.03)); border:1px solid rgba(255,59,48,0.12); border-radius:14px; padding:16px; cursor:pointer; transition:all 0.2s; position:relative; }
  .pq-card:hover { transform:translateY(-2px); box-shadow:0 4px 16px rgba(255,59,48,0.1); }
  .pq-rank { position:absolute; top:10px; right:12px; font-size:22px; font-weight:800; color:rgba(255,59,48,0.12); }
  .pq-name { font-size:14px; font-weight:700; margin-bottom:4px; }
  .pq-conf { font-size:11px; margin-bottom:4px; }
  .pq-conf.overlap { color:var(--accent2); }
  .pq-conf.research { color:var(--purple); }
  .pq-angle { font-size:12px; color:var(--text2); }

  /* Tabs */
  .tabs { display:flex; gap:4px; padding:16px 40px 0; border-bottom:1px solid var(--card-border); overflow-x:auto; }
  .tab { padding:10px 18px; font-size:13px; font-weight:500; cursor:pointer; border:none; background:none; color:var(--text2); border-bottom:2px solid transparent; transition:all 0.2s; white-space:nowrap; }
  .tab.active { color:var(--accent); border-bottom-color:var(--accent); }
  .tab:hover { color:var(--text); }
  .tab-count { font-size:11px; background:var(--bg3); color:var(--text3); padding:1px 6px; border-radius:10px; margin-left:4px; }
  .tab.active .tab-count { background:var(--accent-bg); color:var(--accent2); }

  .content { padding:24px 40px; max-width:1400px; margin:0 auto; }
  .tab-content { display:none; animation:fadeIn 0.2s ease; }
  .tab-content.active { display:block; }
  @keyframes fadeIn { from{opacity:0;transform:translateY(6px)} to{opacity:1;transform:translateY(0)} }

  /* Stats */
  .stats { display:grid; grid-template-columns:repeat(4,1fr); gap:14px; margin-bottom:24px; }
  .stat { background:var(--card); border:1px solid var(--card-border); border-radius:14px; padding:18px; box-shadow:var(--shadow); cursor:pointer; transition:all 0.2s; }
  .stat:hover { transform:translateY(-2px); }
  .stat-label { font-size:11px; color:var(--text3); text-transform:uppercase; letter-spacing:0.5px; margin-bottom:4px; }
  .stat-value { font-size:28px; font-weight:700; }
  .stat-value.green { color:var(--accent2); }
  .stat-sub { font-size:11px; color:var(--text3); margin-top:2px; }

  /* Filters */
  .filters { display:flex; gap:8px; margin-bottom:20px; flex-wrap:wrap; }
  .filter-btn { padding:6px 14px; border-radius:20px; border:1px solid var(--card-border); background:var(--card); color:var(--text2); font-size:12px; cursor:pointer; transition:all 0.2s; }
  .filter-btn.active { background:var(--accent); color:#000; border-color:var(--accent); font-weight:600; }
  .filter-btn:hover:not(.active) { border-color:var(--accent); }

  /* Trend cards */
  .trends-grid { display:grid; grid-template-columns:1fr; gap:12px; }
  .trend-card { background:var(--card); border:1px solid var(--card-border); border-radius:14px; padding:20px; box-shadow:var(--shadow); transition:all 0.2s; position:relative; overflow:hidden; }
  .trend-card:hover { transform:translateY(-1px); box-shadow:0 4px 20px rgba(0,0,0,0.08); }
  .trend-card.overlap { border-left:3px solid var(--accent); background:var(--overlap-bg); }
  .trend-card.research-only { border-left:3px solid var(--purple); }
  .trend-card.emerging-card { border-left:3px solid var(--orange); }
  .trend-card.hidden { display:none; }

  .confidence-badge { position:absolute; top:12px; right:12px; font-size:10px; font-weight:700; padding:2px 10px; border-radius:20px; letter-spacing:0.3px; }
  .confidence-badge.overlap-badge { background:var(--accent); color:#000; }
  .confidence-badge.research-badge { background:var(--purple); color:#fff; }
  .confidence-badge.api-badge { background:var(--blue); color:#fff; }
  .confidence-badge.emerging-badge { background:var(--orange); color:#fff; }

  .trend-header { display:flex; align-items:center; gap:8px; margin-bottom:8px; flex-wrap:wrap; padding-right:120px; }
  .trend-name { font-size:17px; font-weight:700; }
  .badge { font-size:10px; padding:2px 8px; border-radius:20px; font-weight:600; }
  .badge.tiktok { background:rgba(255,0,80,0.1); color:#ff0050; }
  .badge.instagram { background:rgba(225,48,108,0.1); color:#e1306c; }
  .badge.both { background:var(--accent-bg); color:var(--accent2); }
  .badge.hot { background:rgba(255,59,48,0.1); color:var(--red); }
  .badge.warm { background:rgba(255,149,0,0.1); color:var(--orange); }
  .badge.evergreen { background:rgba(0,122,255,0.1); color:var(--blue); }

  .trend-proof { font-size:12px; color:var(--text3); margin-bottom:6px; padding:6px 10px; background:var(--bg2); border-radius:8px; }
  .trend-proof .src-api { color:var(--blue); font-weight:600; }
  .trend-proof .src-research { color:var(--purple); font-weight:600; }
  .trend-desc { font-size:14px; color:var(--text2); margin-bottom:8px; }
  .trend-meta { display:flex; gap:14px; font-size:12px; color:var(--text3); flex-wrap:wrap; }

  .trend-hashtags { margin-top:8px; display:flex; gap:6px; flex-wrap:wrap; }
  .hashtag { font-size:11px; padding:3px 10px; border-radius:20px; background:var(--bg2); color:var(--text2); cursor:pointer; transition:all 0.15s; }
  .hashtag:hover { background:var(--accent-bg); color:var(--accent2); }

  /* Recommended cards */
  .rec-card { background:var(--card); border:1px solid var(--card-border); border-radius:14px; padding:20px; box-shadow:var(--shadow); margin-bottom:12px; position:relative; overflow:hidden; transition:all 0.2s; }
  .rec-card:hover { transform:translateY(-1px); box-shadow:0 4px 20px rgba(0,0,0,0.12); }
  .rec-card.fit-perfect { border-left:3px solid var(--accent); background:var(--overlap-bg); }
  .rec-card.fit-strong { border-left:3px solid #ff9f0a; }
  .rec-card.fit-natural { border-left:3px solid var(--blue); }
  .rec-rank { position:absolute; top:14px; right:16px; font-size:24px; font-weight:800; color:rgba(255,255,255,0.06); }
  .rec-header { display:flex; align-items:center; gap:8px; margin-bottom:6px; flex-wrap:wrap; padding-right:40px; }
  .rec-name { font-size:16px; font-weight:700; }
  .fit-badge { font-size:10px; font-weight:700; padding:2px 10px; border-radius:20px; letter-spacing:0.3px; text-transform:uppercase; }
  .fit-badge.perfect { background:rgba(3,252,123,0.15); color:var(--accent); }
  .fit-badge.strong { background:rgba(255,159,0,0.12); color:#ff9f0a; }
  .fit-badge.natural { background:rgba(0,122,255,0.1); color:var(--blue); }
  .rec-why { font-size:14px; color:var(--text); line-height:1.6; margin-bottom:8px; }
  .rec-desc { font-size:12px; color:var(--text3); margin-bottom:8px; }
  .rec-proof { font-size:11px; color:var(--text3); padding:4px 8px; background:var(--bg2); border-radius:6px; display:inline-block; margin-bottom:8px; }
  .rec-meta { display:flex; gap:12px; font-size:12px; color:var(--text3); flex-wrap:wrap; }
  .rec-examples { margin-top:8px; display:flex; gap:6px; flex-wrap:wrap; }
  .rec-examples a { font-size:11px; color:var(--accent2); text-decoration:none; padding:3px 10px; border-radius:16px; background:rgba(3,252,123,0.06); border:1px solid rgba(3,252,123,0.1); transition:all 0.2s; }
  .rec-examples a:hover { background:rgba(3,252,123,0.15); }
  .top-picks-label { font-size:11px; font-weight:700; text-transform:uppercase; letter-spacing:1.5px; color:var(--accent); margin-bottom:12px; padding-bottom:0; }
  .more-label { font-size:11px; font-weight:600; text-transform:uppercase; letter-spacing:1.5px; color:var(--text3); margin:24px 0 12px; padding-top:16px; border-top:1px solid var(--card-border); }

  .trend-examples { margin-top:10px; display:flex; gap:8px; flex-wrap:wrap; }
  .trend-examples a { font-size:12px; color:var(--accent2); text-decoration:none; padding:4px 12px; border-radius:20px; background:rgba(3,252,123,0.06); border:1px solid rgba(3,252,123,0.12); transition:all 0.2s; }
  .trend-examples a:hover { background:rgba(3,252,123,0.15); }

  .trend-angle { margin-top:10px; padding:10px 14px; background:var(--accent-bg); border-radius:10px; font-size:13px; position:relative; }
  .trend-angle strong { color:var(--accent2); }

  /* Prominent angle (moved up, right under header) */
  .trend-angle-top { margin:8px 0 12px; padding:12px 16px; background:linear-gradient(135deg, rgba(3,252,123,0.08), rgba(3,252,123,0.03)); border:1px solid rgba(3,252,123,0.15); border-radius:12px; font-size:14px; line-height:1.5; color:var(--text); position:relative; }
  .trend-angle-top .angle-label { color:var(--accent); font-weight:700; }

  .copy-btn { position:absolute; top:8px; right:8px; background:var(--accent); color:#000; border:none; border-radius:8px; padding:4px 10px; font-size:11px; font-weight:600; cursor:pointer; opacity:0; transition:opacity 0.2s; }
  .trend-angle:hover .copy-btn, .trend-angle-top:hover .copy-btn { opacity:1; }

  /* Declining/fading trends */
  .trend-card.declining { opacity:0.5; border-left-color:var(--text3) !important; }
  .trend-card.declining:hover { opacity:0.75; }
  .badge-declining { font-size:10px; padding:2px 8px; border-radius:20px; font-weight:700; background:rgba(255,59,48,0.1); color:var(--red); }

  /* New trend badge */
  .badge-new { font-size:10px; padding:2px 8px; border-radius:20px; font-weight:700; background:rgba(0,122,255,0.12); color:var(--blue); animation:pulse-new 2s ease-in-out infinite; }
  @keyframes pulse-new { 0%,100%{opacity:1} 50%{opacity:0.6} }

  /* Show more toggle */
  .show-more-btn { display:block; width:100%; padding:12px; margin-top:12px; background:var(--bg2); border:1px solid var(--card-border); border-radius:12px; color:var(--text2); font-size:13px; font-weight:600; cursor:pointer; text-align:center; transition:all 0.2s; }
  .show-more-btn:hover { background:var(--bg3); color:var(--text); }
  .hidden-trends { display:none; }
  .hidden-trends.show { display:block; }

  .section-title { font-size:18px; font-weight:700; margin-bottom:14px; }

  /* Removed trends panel */
  .removed-panel { margin-top:32px; padding:16px; background:var(--bg2); border-radius:12px; }
  .removed-panel summary { font-size:13px; font-weight:600; color:var(--text3); cursor:pointer; }
  .removed-list { margin-top:10px; font-size:12px; color:var(--text3); }
  .removed-list div { padding:3px 0; }
  .removed-reason { color:var(--red); font-weight:500; }

  /* Toast */
  .toast { position:fixed; bottom:24px; right:24px; background:var(--accent); color:#000; padding:10px 20px; border-radius:12px; font-size:13px; font-weight:600; opacity:0; transform:translateY(10px); transition:all 0.3s; pointer-events:none; z-index:100; }
  .toast.show { opacity:1; transform:translateY(0); }

  @media (max-width:900px) {
    .header,.tabs,.content,.search-bar,.priority-queue,.methodology { padding-left:16px; padding-right:16px; }
    .stats { grid-template-columns:repeat(2,1fr); }
    .pq-grid { grid-template-columns:1fr; }
  }
  @media (max-width:600px) {
    .stats { grid-template-columns:1fr; }
    .trend-header { padding-right:0; flex-direction:column; align-items:flex-start; }
    .confidence-badge { position:static; margin-bottom:6px; }
  }
</style>
</head>
<body data-theme="dark">

<div class="header">
  <div>
    <h1>üéØ FibreGuard <span>Trend Spotter</span></h1>
    <div class="last-update">Last updated: <span id="updateTime"></span></div>
  </div>
  <div class="header-right">
  </div>
</div>

<!-- methodology and search removed -->

<div class="priority-queue">
  <div class="pq-title">üî• Best FibreGuard Fits This Week</div>
  <div class="pq-grid" id="priority-grid"></div>
</div>

<div class="tabs" id="tab-bar"></div>

<div class="content">
  <!-- Overview removed -->

  <!-- CONFIRMED -->
  <div id="tab-overlaps" class="tab-content active">
    <div class="section-title">‚úÖ Confirmed Trends</div>
    <p style="color:var(--text2);margin-bottom:20px;font-size:13px;">Viral across multiple signals ‚Äî hashtag data AND independent sources (blogs, trend reports, news) both confirm these. Highest confidence for content creation.</p>
    <div class="trends-grid" id="overlaps-grid"></div>
  </div>

  <!-- TRENDING NOW -->
  <div id="tab-trending" class="tab-content">
    <div class="section-title">Data Based Trends ‚Äî Hashtag Velocity</div>
    <p style="color:var(--text2);margin-bottom:20px;font-size:13px;">What hashtags are getting views and posts right now. Raw TikTok Creative Center data (US). Updated daily ‚Äî pure numbers, no editorial filter.</p>
    <div id="trending-grid"></div>
  </div>

  <!-- EXPLORATORY -->
  <div id="tab-research" class="tab-content">
    <div class="section-title">üî≠ Research Based Trends ‚Äî Formats & Concepts</div>
    <p style="color:var(--text2);margin-bottom:20px;font-size:13px;">Viral formats, audio trends, and concepts that go beyond hashtags. Spotted by trend scouts (Later, HeyOrca, Scott Social, NewEngen). Not everything viral has a hashtag ‚Äî these capture the creative formats brands are riding.</p>
    <div class="trends-grid" id="research-grid"></div>
  </div>

  <!-- OTHER PLATFORMS -->
  <div id="tab-emerging" class="tab-content">
    <div class="section-title">üì° Early Signals</div>
    <p style="color:var(--text2);margin-bottom:20px;font-size:13px;">Spotted in news, X, or YouTube before fully hitting TikTok/IG. Early-mover opportunities ‚Äî catch these before they peak on short-form video.</p>
    <div class="trends-grid" id="emerging-grid"></div>
  </div>

  <!-- EU TRENDS -->
  <div id="tab-eu" class="tab-content">
    <div class="section-title">üá™üá∫ EU Trending Hashtags</div>
    <p style="color:var(--text2);margin-bottom:20px;font-size:13px;">Top TikTok trends in leading EU markets. Updated weekly. Filtered for brand safety &amp; FibreGuard relevance.</p>
    <div id="eu-grid"></div>
  </div>

  <!-- Ideas tab removed -->
</div>

<div class="toast" id="toast">Copied!</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// RECOMMENDED ‚Äî Curated for FibreGuard
// Only trends with a natural brand fit.
// Fabric ¬∑ Home ¬∑ Lifestyle ¬∑ Durability ¬∑ Stain-proof
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const RECOMMENDED = [
  // ‚îÄ‚îÄ‚îÄ‚îÄ TOP PICKS ‚Äî Best brand fit this week ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    rank: 1, topPick: true,
    name: "Liquid Assets / Rich Girl (Gwen Stefani)",
    platform: "instagram", confidence: "research", freshness: "hot",
    fit: "perfect",
    why: "The trend is literally about pouring liquids. Brands are doing this already ‚Äî pour wine, coffee, juice on FibreGuard fabric and it all wipes clean. The product demo IS the trend. 164K Reels and growing.",
    desc: "Combining economics with literal liquids ‚Äî skincare, beverages, anything pourable. 164K Reels. Brands actively using it.",
    proof: { research: "Scott Social (Feb 17, 164K Reels), confirmed business-friendly" },
    meta: { posts: "164K Reels" },
    examples: [
      { label: "Scott Social ‚Äî trend breakdown + audio link", url: "https://www.scottsocialmarketing.com/blog/trending-reels-audio-this-week-on-instagram" },
    ],
  },
  {
    rank: 2, topPick: true,
    name: "'You Have to Believe Me'",
    platform: "instagram", confidence: "research", freshness: "hot",
    fit: "perfect",
    why: "Audio-driven format where brands prove a bold claim. 'You HAVE to believe me ‚Äî this fabric is actually stain-proof.' Then show the proof. Brands are already using this to demo products. Only 1K Reels = early mover advantage.",
    desc: "Convince your audience about something they doubt. 1K Reels (early!). Brands and businesses jumping on it.",
    proof: { research: "Scott Social (1K Reels, Feb 17)" },
    meta: { posts: "1K Reels (early ‚Äî first mover window)" },
    examples: [
      { label: "Scott Social ‚Äî audio + trend details", url: "https://www.scottsocialmarketing.com/blog/trending-reels-audio-this-week-on-instagram" },
    ],
  },
  {
    rank: 3, topPick: true,
    name: "Highlight Switch (The Desperados)",
    platform: "instagram", confidence: "research", freshness: "hot",
    fit: "perfect",
    why: "Product features synced to beat drops ‚Äî this is literally a product showcase format. Brands use it to flash through features, colors, textures. Switch between: stain-proof demo ‚Üí color range ‚Üí pet test ‚Üí texture close-up. Clean and professional.",
    desc: "Product features synced to beat drops. Clean rhythmic transitions. 26K Reels. Used heavily by product brands.",
    proof: { research: "Later (Feb 13, 26K Reels)" },
    meta: { posts: "26K Reels" },
    examples: [
      { label: "Later ‚Äî trend breakdown + audio", url: "https://later.com/blog/instagram-reels-trends/" },
    ],
  },

  // ‚îÄ‚îÄ‚îÄ‚îÄ MORE RECOMMENDATIONS ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    rank: 4,
    name: "'She Don't See Us' ‚Äî Spotlight Hidden Features",
    platform: "instagram", confidence: "research", freshness: "hot",
    fit: "strong",
    why: "Format built for brands showcasing underrated product features. Everyone knows stain-proof, but UV resistance? Softness? Color range? This audio lets you spotlight what people miss. 1.8K Reels.",
    desc: "Spotlight underrated offerings while one product steals the show. 1.8K Reels. Business-friendly format.",
    proof: { research: "Scott Social (Feb 18, 1.8K Reels)" },
    meta: { posts: "1.8K Reels" },
    examples: [
      { label: "Scott Social ‚Äî trend + audio", url: "https://www.scottsocialmarketing.com/blog/trending-reels-audio-this-week-on-instagram" },
    ],
  },
  {
    rank: 5,
    name: "CleanTok / Spring Cleaning Spike",
    platform: "both", confidence: "emerging", freshness: "warm",
    fit: "strong",
    why: "Cleaning and home care content = FibreGuard's natural territory. Satisfying wipe-clean ASMR, before/after stain removal, 'cleaning day but it takes 5 seconds.' The audience for this IS your target audience.",
    desc: "Decluttering/cleaning content surging for spring. #CleanTok spiking on both platforms.",
    proof: { research: "Bustle, TikTok ‚Äî ongoing + fresh spring spike" },
    meta: {},
    examples: [
      { label: "TikTok ‚Äî #cleantok discover", url: "https://www.tiktok.com/tag/cleantok?lang=en" },
    ],
  },
  {
    rank: 6,
    name: "Hopelessly Devoted To You",
    platform: "instagram", confidence: "research", freshness: "hot",
    fit: "strong",
    why: "Lifestyle/product showcase audio used by home and interior brands. Styled rooms, fabric close-ups, cozy setups. 62K Reels. Warm and aspirational ‚Äî fits a premium fabric brand naturally.",
    desc: "Versatile audio for lifestyle content and product drops. 62K Reels. Business-friendly.",
    proof: { research: "Scott Social (62K Reels, Feb 17)" },
    meta: { posts: "62K Reels" },
    examples: [
      { label: "Scott Social ‚Äî audio link + examples", url: "https://www.scottsocialmarketing.com/blog/trending-reels-audio-this-week-on-instagram" },
    ],
  },
  {
    rank: 7,
    name: "We Belong Together (Harry Styles ‚Äî Aperture)",
    platform: "instagram", confidence: "research", freshness: "warm",
    fit: "strong",
    why: "Quick clips of 'all your favorite things' ‚Äî brands use it to show product range. Flash through fabric swatches, room setups, color combinations. 98K Reels, very brand-friendly format.",
    desc: "Quick clips of favorite things paired together. 98K Reels. Product showcase format.",
    proof: { research: "Scott Social (98.3K Reels), Later (86K, Jan 30)" },
    meta: { posts: "98K Reels" },
    examples: [
      { label: "Scott Social ‚Äî audio + examples", url: "https://www.scottsocialmarketing.com/blog/trending-reels-audio-this-week-on-instagram" },
    ],
  },
  {
    rank: 8,
    name: "Forever Your Girl (Paula Abdul) ‚Äî Netflix tie-in",
    platform: "instagram", confidence: "research", freshness: "hot",
    fit: "natural",
    why: "Feel-good lifestyle montage audio driven by Netflix cultural moment. Styled rooms, cozy home content. Works for aspirational brand content without any edge. 5.1K Reels.",
    desc: "Netflix rom-com 'People We Meet on Vacation' brought this audio back. 5.1K Reels. Business-friendly.",
    proof: { research: "Scott Social (Feb 18, 5.1K Reels)" },
    meta: { posts: "5.1K Reels" },
    examples: [
      { label: "Scott Social ‚Äî audio + examples", url: "https://www.scottsocialmarketing.com/blog/trending-reels-audio-this-week-on-instagram" },
    ],
  },
  {
    rank: 9,
    name: "'Telling Everyone You're a ______' üÜï",
    platform: "instagram", confidence: "research", freshness: "hot",
    fit: "natural",
    why: "Profession reveal + BTS chaos format. 'Telling everyone you make stain-proof fabric' ‚Üí then show the messy, fun reality of product testing. Only 61 Reels = massive first-mover advantage. Business-friendly ‚úÖ.",
    desc: "Show your profession's glamorous claim vs chaotic reality. 61 Reels (ultra early!). Business-friendly.",
    proof: { research: "Scott Social (Feb 19, 61 Reels)" },
    meta: { posts: "61 Reels (first mover!)" },
    examples: [
      { label: "Scott Social ‚Äî audio + trend", url: "https://www.scottsocialmarketing.com/blog/trending-reels-audio-this-week-on-instagram" },
    ],
  },
  {
    rank: 10,
    name: "Raye Remix (Hypaton)",
    platform: "instagram", confidence: "research", freshness: "hot",
    fit: "natural",
    why: "High-energy audio for fast-paced montages. Rapid-fire product shots, stain test compilations, fabric close-ups with punchy editing. 40K Reels. Clean energy, no risk.",
    desc: "High-energy remix ‚Äî 40K Reels. Works for fast-paced, energetic brand content.",
    proof: { research: "Later (Feb 6, 40K Reels)" },
    meta: { posts: "40K Reels" },
    examples: [
      { label: "Later ‚Äî audio + trend", url: "https://later.com/blog/instagram-reels-trends/" },
    ],
  },
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TREND DATA ‚Äî Updated Feb 19, 2026 07:30 CET
// Ad-boost filtered. Cross-referenced.
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const TRENDS = [
  // ‚îÄ‚îÄ‚îÄ‚îÄ OVERLAPS: API + Research confirmed ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    name: "#shutupmom",
    platform: "tiktok", confidence: "overlap", freshness: "hot", brandSafe: false,
    desc: "Comedic format: things you did/bought that horrified your parents but turned out great. ‚ö†Ô∏è Dropping fast (0.74‚Üí0.55 in 24h). Window may be closing.",
    proof: { api: "#shutupmom ‚Äî score 0.55 ‚Üì‚Üì (was 0.74), 101M views, 4K posts ‚Äî dropping fast", research: "NewEngen (Feb 2026 trends report)" },
    meta: { views: "101M", posts: "4K", score: "0.55 ‚Üì‚Üì" },
    hashtags: ["#shutupmom"],
    examples: [
      { label: "TikTok ‚Äî #shutupmom discover", url: "https://www.tiktok.com/tag/shutupmom?lang=en" },
      { label: "TikTok ‚Äî Shut Up Mom Challenge trend", url: "https://www.tiktok.com/discover/shut-up-mom-trend-original" },
    ],
    angle: "'My mom said I'd ruin the couch in a week' ‚Äî comedic montage of spills, pets, kids attacking FibreGuard fabric ‚Üí reveal it still looks brand new.",
  },
  {
    name: "Bridgerton Season 4",
    platform: "both", confidence: "overlap", freshness: "warm",
    desc: "'Make it Bridgerton' edits, regencycore aesthetics, elegant lifestyle content. Massive on IG (700K Reels). Note: API shows declining momentum ‚Äî peaked ~Feb 6, now fading on TikTok.",
    proof: { api: "#bridgertonseason4 (0.15 ‚Üì‚Üì), #bridgertonnetflix (0.24 ‚Üì), #benedictbridgerton (0.22 ‚Üì) ‚Äî ALL declining further", research: "Later (Feb 6+13), Scott Social (Feb 17+18+19), HeyOrca" },
    meta: { views: "674M combined TikTok", posts: "700K+ IG Reels", score: "0.15-0.24 ‚Üì‚Üì fading fast" },
    hashtags: ["#bridgertonseason4", "#bridgertonedit", "#regencycore"],
    examples: [
      { label: "Later ‚Äî 'Make it Bridgerton' Reels trend breakdown", url: "https://later.com/blog/instagram-reels-trends/" },
      { label: "Instagram ‚Äî #bridgertonedit Reels", url: "https://www.instagram.com/explore/tags/bridgertonedit/" },
      { label: "Audio: Archer Marsh - Give Me Everything", url: "https://www.instagram.com/reels/audio/2219751965068779/" },
    ],
    angle: "Still works on IG where momentum holds. 'Everyday life, but make it Bridgerton' ‚Äî elegant FibreGuard interiors. Use audio: Archer Marsh - Give Me Everything. ‚ö†Ô∏è Act fast, TikTok window closing.",
  },
  {
    name: "#euphoriamakeup / Euphoria Glam Transitions",
    platform: "both", confidence: "overlap", freshness: "warm",
    desc: "Euphoria-inspired glam transitions crossing from beauty into room reveals and aesthetic content. Dramatic before/after format.",
    proof: { api: "#euphoriamakeup ‚Äî score 0.34 ‚Üì (was 0.38), 52.8M views, 6.9K posts ‚Äî declining further", research: "NewEngen (Feb 2026 trends)" },
    meta: { views: "52.8M", posts: "6.9K", score: "0.34 ‚Üì" },
    hashtags: ["#euphoriamakeup", "#euphoriavibes"],
    examples: [
      { label: "TikTok ‚Äî #euphoriamakeup discover", url: "https://www.tiktok.com/tag/euphoriamakeup?lang=en" },
      { label: "TikTok ‚Äî Euphoria makeup transitions", url: "https://www.tiktok.com/discover/euphoria-makeup-transition" },
    ],
    angle: "Euphoria room makeover transition ‚Äî messy room ‚Üí glam FibreGuard-styled space. Bold colors, dramatic lighting.",
  },
  {
    name: "#blackhistorymonth / #bhm",
    platform: "both", confidence: "overlap", freshness: "warm", brandSafe: false,
    desc: "Black History Month content ‚Äî storytelling, cultural celebration, heritage. Valid through Feb 28. API shows renewed activity: #blackhistorymonth 0.54 ‚Üë, #bhm 0.57.",
    proof: { api: "#blackhistorymonth 0.54 ‚Üë, #bhm 0.57, 600M+89M views combined", research: "Cultural calendar ‚Äî valid through Feb 28. API confirms renewed activity." },
    meta: { posts: "Valid through Feb 28" },
    hashtags: ["#blackhistorymonth", "#bhm"],
    examples: [
      { label: "TikTok ‚Äî #blackhistorymonth", url: "https://www.tiktok.com/tag/blackhistorymonth" },
      { label: "Instagram ‚Äî #bhm", url: "https://www.instagram.com/explore/tags/bhm/" },
    ],
    angle: "Celebrate Black designers/creators in textile & interior space. 'The fabric of culture' ‚Äî heritage homes with FibreGuard. Storytelling format. ‚è≥ 10 days left.",
  },
  {
    name: "#everlong / Foo Fighters Nostalgia",
    platform: "tiktok", confidence: "overlap", freshness: "warm",
    desc: "Foo Fighters 'Everlong' resurgence ‚Äî nostalgia content, emotional reveals, things that last forever. ‚ö†Ô∏è Now declining (0.59‚Üí0.48).",
    proof: { api: "#everlong ‚Äî score 0.48 ‚Üì (was 0.59), 15.9M views, 4.1K posts ‚Äî declining", research: "Part of broader 2026=2016 nostalgia wave (Dash Social, Scott Social)" },
    meta: { views: "15.9M", posts: "4.1K", score: "0.48 ‚Üì" },
    hashtags: ["#everlong", "#foofighters", "#nostalgia"],
    examples: [
      { label: "TikTok ‚Äî #everlong discover", url: "https://www.tiktok.com/tag/everlong?lang=en" },
      { label: "Article ‚Äî Why Everlong is trending on TikTok", url: "https://vocal.media/beat/how-come-everlong-by-the-foo-fighters-is-trending-on-tik-tok-other-socials" },
    ],
    angle: "'Things that last forever' set to Everlong ‚Äî FibreGuard durability reveal. Emotional + nostalgic tone. Very on-brand.",
  },

  // ‚îÄ‚îÄ‚îÄ‚îÄ RESEARCH-CONFIRMED (multiple sources, no API match) ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    name: "Liquid Assets / Rich Girl (Gwen Stefani)",
    platform: "instagram", confidence: "research", freshness: "hot",
    desc: "Combining economics with literal liquids ‚Äî skincare, beverages, anything pourable. 164K Reels. Business-friendly ‚úÖ.",
    proof: { research: "Scott Social (Feb 17, 164K Reels), business-friendly confirmed" },
    meta: { posts: "164K Reels" },
    hashtags: ["#liquidassets", "#richgirl"],
    examples: [
      { label: "TikTok ‚Äî Rich Girl trend", url: "https://www.tiktok.com/search?q=rich%20girl%20gwen%20stefani%20trend" },
      { label: "Instagram ‚Äî #liquidassets Reels", url: "https://www.instagram.com/explore/tags/liquidassets/" },
    ],
    angle: "üî• AMAZING FIT: 'Liquid assets' but it's wine, coffee, juice poured on FibreGuard ‚Äî and it all wipes clean. Literal liquid + economic wordplay. Satisfying content gold.",
  },
  {
    name: "Fever Dream ‚Äî Alex Warren",
    platform: "both", confidence: "research", freshness: "hot",
    desc: "Currently #1 trending audio on Instagram per HeyOrca. Versatile ‚Äî transitions, action shots, dramatic reveals. Going cross-platform.",
    proof: { research: "HeyOrca (#1 trending this week), cross-platform" },
    meta: { posts: "Trending #1 on IG" },
    hashtags: ["#feverdream", "#alexwarren"],
    examples: [
      { label: "TikTok ‚Äî Fever Dream trend", url: "https://www.tiktok.com/search?q=fever%20dream%20alex%20warren" },
    ],
    angle: "Dramatic FibreGuard product reveal ‚Äî slow-mo stain test with cinematic energy. The audio builds intensity perfectly for a 'will it stain?' moment.",
  },
  {
    name: "'You're So Hard to Please' (Pink √ó Get Down On It)",
    platform: "tiktok", confidence: "research", freshness: "hot",
    desc: "Creators showing small things that make them happy. Cozy, lifestyle, feel-good format. Trending on TikTok this week per HeyOrca.",
    proof: { research: "HeyOrca (TikTok trending this week)" },
    meta: {},
    hashtags: [],
    examples: [
      { label: "TikTok ‚Äî Hard to Please trend", url: "https://www.tiktok.com/search?q=you%27re%20so%20hard%20to%20please%20trend" },
    ],
    angle: "'Actually I'm easy to please' ‚Äî coffee, blanket, FibreGuard couch. Simple lifestyle content showing product in daily comfort moments.",
  },
  {
    name: "We Belong Together (Harry Styles ‚Äî Aperture)",
    platform: "instagram", confidence: "research", freshness: "warm",
    desc: "Quick clips of all your favorite things. 98K Reels. Business-friendly ‚úÖ. Works perfectly for product showcases.",
    proof: { research: "Scott Social (98.3K Reels), Later (86K, Jan 30)" },
    meta: { posts: "98K Reels" },
    hashtags: ["#aperture", "#harrystyles"],
    examples: [
      { label: "TikTok ‚Äî Aperture trend", url: "https://www.tiktok.com/search?q=aperture%20harry%20styles%20trend" },
      { label: "Instagram ‚Äî #aperture Reels", url: "https://www.instagram.com/explore/tags/aperture/" },
    ],
    angle: "Rapid cuts of FibreGuard fabrics paired with homes they belong in. Style-matching format ‚Äî colors, textures, rooms.",
  },
  {
    name: "Hopelessly Devoted To You",
    platform: "instagram", confidence: "research", freshness: "hot",
    desc: "Versatile audio for morning routines, lifestyle, product drops. 62K Reels. Business-friendly ‚úÖ.",
    proof: { research: "Scott Social (62K Reels, Feb 17)" },
    meta: { posts: "62K Reels" },
    hashtags: ["#hopelesslydevoted"],
    examples: [
      { label: "TikTok ‚Äî Hopelessly Devoted trend", url: "https://www.tiktok.com/search?q=hopelessly%20devoted%20to%20you%20trend" },
    ],
    angle: "Morning living room routine ‚Äî fluffing pillows, styling the couch, satisfying home content. 'Hopelessly devoted to this fabric.'",
  },
  {
    name: "Raye Remix (Hypaton)",
    platform: "instagram", confidence: "research", freshness: "hot",
    desc: "High-energy remix ‚Äî 40K Reels. Works for fast-paced, energetic content. Business-friendly.",
    proof: { research: "Later (Feb 6, 40K Reels)" },
    meta: { posts: "40K Reels" },
    hashtags: [],
    examples: [
      { label: "TikTok ‚Äî Raye Hypaton remix", url: "https://www.tiktok.com/search?q=raye%20hypaton%20remix%20trend" },
    ],
    angle: "Fast-paced stain test montage ‚Äî rapid-fire spills and cleanups. Punchy, satisfying, high energy.",
  },
  {
    name: "2026 is the New 2016 / Black Beatles",
    platform: "both", confidence: "research", freshness: "warm",
    desc: "Massive nostalgia wave ‚Äî recreating 2016 moments. Mannequin Challenge resurging. 32K IG Reels. Cross-platform phenomenon.",
    proof: { research: "Scott Social (32K Reels), Dash Social (Jan 2026 trends)" },
    meta: { posts: "32K Reels" },
    hashtags: ["#2026isthe2016", "#blackbeatles", "#mannequinchallenge"],
    examples: [
      { label: "TikTok ‚Äî #2026isthenew2016", url: "https://www.tiktok.com/tag/2026isthe2016" },
      { label: "TikTok ‚Äî Mannequin Challenge 2026", url: "https://www.tiktok.com/search?q=mannequin%20challenge%202026" },
    ],
    angle: "'2016 vs 2026 living rooms' ‚Äî show how home style evolved. Or: Mannequin Challenge in the FibreGuard showroom while someone spills wine in slow-mo.",
  },
  {
    name: "Highlight Switch (The Desperados)",
    platform: "instagram", confidence: "research", freshness: "hot",
    desc: "Product features synced to beat drops. Clean rhythmic transitions. 26K Reels.",
    proof: { research: "Later (Feb 13, 26K Reels)" },
    meta: { posts: "26K Reels" },
    hashtags: ["#highlightswitch"],
    examples: [
      { label: "TikTok ‚Äî Highlight Switch trend", url: "https://www.tiktok.com/search?q=highlight%20switch%20trend" },
      { label: "Instagram ‚Äî #highlightswitch", url: "https://www.instagram.com/explore/tags/highlightswitch/" },
    ],
    angle: "Switch between FibreGuard features on each beat ‚Äî colors, stain-proof demo, texture, pet test. Satisfying product showcase format.",
  },
  {
    name: "'You Have to Believe Me'",
    platform: "instagram", confidence: "research", freshness: "hot",
    desc: "Convince your audience about something they doubt. 1K Reels. Business-friendly ‚úÖ. Perfect for proof-of-concept content.",
    proof: { research: "Scott Social (1K Reels, Feb 17)" },
    meta: { posts: "1K Reels" },
    hashtags: [],
    examples: [
      { label: "TikTok ‚Äî You Have to Believe Me", url: "https://www.tiktok.com/search?q=you%20have%20to%20believe%20me%20trend" },
    ],
    angle: "'You HAVE to believe me ‚Äî this fabric is actually stain-proof' ‚Üí dramatic stain test reveal. The audio is literally made for this.",
  },
  {
    name: "Bad Bunny Homeland Dreams",
    platform: "instagram", confidence: "research", freshness: "hot",
    desc: "Transformation/journey content ‚Äî 'how it started vs how it's going'. Everything Bad Bunny is trending right now.",
    proof: { research: "HeyOrca (IG trending this week)" },
    meta: {},
    hashtags: [],
    examples: [
      { label: "TikTok ‚Äî Bad Bunny Homeland Dreams", url: "https://www.tiktok.com/search?q=bad%20bunny%20homeland%20dreams" },
    ],
    angle: "Before/after transformation ‚Äî old stained sofa ‚Üí new FibreGuard setup. Journey format.",
  },
  {
    name: "'Z as in the Letter Z' Trend",
    platform: "tiktok", confidence: "research", freshness: "hot",
    desc: "Phonetic alphabet humor ‚Äî forgetting basic things at work. Confidence + comedy. Easy for brands to join.",
    proof: { research: "HeyOrca (TikTok trending this week)" },
    meta: {},
    hashtags: [],
    examples: [
      { label: "TikTok ‚Äî Z as in the Letter Z", url: "https://www.tiktok.com/search?q=z%20as%20in%20the%20letter%20z%20trend" },
    ],
    angle: "'S as in... stain-proof. F as in... FibreGuard. Yeah, that's the whole pitch.' Workplace humor format.",
  },
  {
    name: "Reality TV Show Format",
    platform: "instagram", confidence: "research", freshness: "hot",
    desc: "Edit workplace/daily life like reality TV ‚Äî dramatic zooms, confessionals, 'next week on...' energy. 913 Reels (early!).",
    proof: { research: "Later (Feb 13, 913 Reels ‚Äî early stage)" },
    meta: { posts: "913 Reels (early)" },
    hashtags: ["#realitytvshow"],
    examples: [
      { label: "TikTok ‚Äî Reality TV edit trend", url: "https://www.tiktok.com/search?q=reality%20tv%20show%20edit%20trend" },
      { label: "Instagram ‚Äî #realitytvshow", url: "https://www.instagram.com/explore/tags/realitytvshow/" },
    ],
    angle: "Edit the FibreGuard office like a reality TV show. Drama over fabric choices, confessionals about stain incidents, cliffhangers.",
  },

  {
    name: "Forever Your Girl (Paula Abdul) ‚Äî Netflix tie-in",
    platform: "instagram", confidence: "research", freshness: "hot",
    desc: "Netflix rom-com 'People We Meet on Vacation' brought Paula Abdul's Forever Your Girl back. Lifestyle clips, feel-good montages. 5.1K Reels. Business-friendly ‚úÖ.",
    proof: { research: "Scott Social (Feb 18, 5.1K Reels), Netflix cultural moment" },
    meta: { posts: "5.1K Reels" },
    hashtags: ["#foreveryourgirl", "#peoplewemeetonvacation"],
    examples: [
      { label: "TikTok ‚Äî Forever Your Girl trend", url: "https://www.tiktok.com/search?q=forever%20your%20girl%20paula%20abdul%20trend" },
    ],
    angle: "'Forever your girl' but it's your FibreGuard couch ‚Äî lifestyle montage of cozy moments, styled rooms, pet cuddles. Feel-good format, very on-brand.",
  },
  {
    name: "'Call My Sister' Trend",
    platform: "tiktok", confidence: "research", freshness: "hot",
    desc: "Simple text-overlay format ‚Äî relatable moments about calling your sister (or anyone). Easy for brands to adapt. Trending on TikTok this week.",
    proof: { research: "HeyOrca (TikTok trending this week, Feb 18)" },
    meta: {},
    hashtags: [],
    examples: [
      { label: "TikTok ‚Äî Call My Sister trend", url: "https://www.tiktok.com/search?q=call%20my%20sister%20trend" },
    ],
    angle: "'When I spill wine on my new couch and don't even call my sister because FibreGuard' ‚Äî relatable humor, minimal production needed.",
  },
  {
    name: "'She Don't See Us' ‚Äî Underrated Products",
    platform: "instagram", confidence: "research", freshness: "hot",
    desc: "Spotlight underrated offerings while one product steals the show. 1.8K Reels. Business-friendly ‚úÖ. Great for product range showcases.",
    proof: { research: "Scott Social (Feb 18, 1.8K Reels)" },
    meta: { posts: "1.8K Reels" },
    hashtags: [],
    examples: [
      { label: "TikTok ‚Äî She Don't See Us trend", url: "https://www.tiktok.com/search?q=she%20don%27t%20see%20us%20trend" },
    ],
    angle: "Everyone knows FibreGuard is stain-proof, but 'she don't see' the UV resistance, the softness, the color range ‚Äî spotlight hidden features.",
  },
  {
    name: "Thermostat Game ‚Äî Couples Challenge",
    platform: "tiktok", confidence: "research", freshness: "hot",
    desc: "Couples challenge format ‚Äî thermostat wars and household debates. Massive engagement on TikTok. Fun, relatable content.",
    proof: { research: "NewEngen (Feb 2026 ‚Äî listed as top trend alongside Grammys glambot and Euphoria)" },
    meta: {},
    hashtags: ["#thermostatgame"],
    examples: [
      { label: "TikTok ‚Äî #thermostatgame", url: "https://www.tiktok.com/tag/thermostatgame" },
    ],
    angle: "'My partner sets the thermostat to 30¬∞ and then MELTS on the couch ‚Äî good thing it's FibreGuard.' Couples humor + product durability.",
  },

  {
    name: "'Telling Everyone You're a ______'",
    platform: "instagram", confidence: "research", freshness: "hot",
    desc: "Show the glamorous claim of your profession vs the chaotic behind-the-scenes reality. 61 Reels (very early!). Business-friendly ‚úÖ. üÜï NEW today.",
    proof: { research: "Scott Social (Feb 19, 61 Reels ‚Äî very early stage)" },
    meta: { posts: "61 Reels (early ‚Äî first mover window)" },
    hashtags: [],
    examples: [
      { label: "TikTok ‚Äî Telling Everyone trend", url: "https://www.tiktok.com/search?q=telling%20everyone%20you%27re%20a%20trend" },
    ],
    angle: "'Telling everyone you make stain-proof fabric' ‚Üí cut to: wine spill tests, kids with chocolate, dogs on couches, the daily chaos of product testing.",
  },
  {
    name: "Orange Juice ‚Äî Team Bonding Audio",
    platform: "instagram", confidence: "research", freshness: "hot",
    desc: "Audio for showcasing tight-knit team personality and bonds. 32 Reels (ultra early!). Business-friendly ‚úÖ. üÜï NEW today.",
    proof: { research: "Scott Social (Feb 19, 32 Reels ‚Äî ultra early)" },
    meta: { posts: "32 Reels (ultra early)" },
    hashtags: [],
    examples: [
      { label: "TikTok ‚Äî Orange Juice team audio", url: "https://www.tiktok.com/search?q=orange%20juice%20team%20bonding%20audio" },
    ],
    angle: "Show the FibreGuard team's personality ‚Äî lab testing moments, office banter, behind-the-scenes of fabric development. Humanize the brand.",
  },

  // ‚îÄ‚îÄ‚îÄ‚îÄ EMERGING SIGNALS ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    name: "Seedance 2.0 / AI-Generated Video",
    platform: "both", confidence: "emerging", freshness: "hot",
    desc: "ByteDance Seedance 2.0 AI video generation going viral on X and news. Tom Cruise deepfakes, cinematic AI clips. Will hit TikTok/IG as a format within days.",
    proof: { research: "Guardian, TechCrunch, NBC, X ‚Äî Feb 15-17" },
    meta: {},
    hashtags: ["#seedance", "#aivideo"],
    examples: [
      { label: "TikTok ‚Äî #seedance", url: "https://www.tiktok.com/tag/seedance" },
      { label: "TikTok ‚Äî AI video trend", url: "https://www.tiktok.com/search?q=seedance%20ai%20video" },
    ],
    angle: "'AI tried to recreate our fabric... it couldn't' ‚Äî real vs AI comparison. Or: use AI to create a wild FibreGuard ad and reveal the twist.",
  },
  {
    name: "Milan Cortina Olympics ‚Äî Broken Medals Meme",
    platform: "both", confidence: "emerging", freshness: "hot",
    desc: "Winter Olympics medals literally breaking apart (Alysa Liu TikTok) + viral chocolate cake. Massive on TikTok + X right now.",
    proof: { research: "NBC, Times of India, TikTok ‚Äî this week" },
    meta: {},
    hashtags: ["#milancortina2026", "#olympicmedals"],
    examples: [
      { label: "TikTok ‚Äî #milancortina2026", url: "https://www.tiktok.com/tag/milancortina2026" },
    ],
    angle: "'Things that DON'T break: FibreGuard fabric' ‚Äî play on broken medals meme. Timely humor, ride the Olympics wave.",
  },
  {
    name: "#petpivot ‚Äî Pet Content Surge",
    platform: "tiktok", confidence: "emerging", freshness: "hot",
    desc: "API score 0.99 ‚Üë ‚Äî one of highest-scoring hashtags this week. Pet-related content surging. 68K posts, 28M views. No research cross-ref yet. üÜï NEW in API.",
    proof: { api: "#petpivot ‚Äî score 0.99 ‚Üë, 28.7M views, 68K posts ‚Äî organic (low views/post ratio)" },
    meta: { views: "28.7M", posts: "68K", score: "0.99 ‚Üë" },
    hashtags: ["#petpivot"],
    examples: [
      { label: "TikTok ‚Äî #petpivot", url: "https://www.tiktok.com/tag/petpivot" },
    ],
    angle: "Pet-proof fabric content: 'The pet pivot every pet owner needs' ‚Äî show pets doing their worst on FibreGuard furniture and the fabric surviving. Perfect brand territory IF this trend gets research confirmation.",
  },
  {
    name: "CleanTok Spring Cleaning Spike",
    platform: "both", confidence: "emerging", freshness: "warm",
    desc: "Decluttering/cleaning content surging for spring. 'Get rid of 10 things a day' format. #CleanTok spiking again.",
    proof: { research: "Bustle, TikTok ‚Äî ongoing + fresh spike" },
    meta: {},
    hashtags: ["#cleantok", "#springcleaning", "#satisfyingcleaning"],
    examples: [
      { label: "TikTok ‚Äî #cleantok", url: "https://www.tiktok.com/tag/cleantok" },
      { label: "TikTok ‚Äî #springcleaning", url: "https://www.tiktok.com/tag/springcleaning" },
    ],
    angle: "Flip the CleanTok script: 'POV: you have FibreGuard and cleaning day takes 5 seconds.' Satisfying wipe-clean ASMR.",
  },
];

// ‚îÄ‚îÄ‚îÄ‚îÄ TRENDING NOW ‚Äî TikTok Creative Center (US) ‚îÄ‚îÄ‚îÄ‚îÄ
const TRENDING_NOW_UPDATED = "2026-02-19";
const TRENDING_NOW = [
  {rank:1,tag:"#home",views:"168.3M",views_raw:168333599,posts:"43.1K",posts_raw:43123,industry:"Home Improvement",direction:"‚Üë"},
  {rank:2,tag:"#teamworkmakesthedreamwork",views:"20.6M",views_raw:20602097,posts:"18.9K",posts_raw:18933,industry:"",direction:"‚Üí"},
  {rank:3,tag:"#epstein",views:"900.5M",views_raw:900500806,posts:"53.3K",posts_raw:53330,industry:"News & Entertainment",direction:"‚Üí"},
  {rank:5,tag:"#makefriendslive",views:"24.2M",views_raw:24186054,posts:"2.3K",posts_raw:2333,industry:"",direction:"‚Üì"},
  {rank:7,tag:"#epsteinfiles",views:"488.8M",views_raw:488827225,posts:"21.5K",posts_raw:21474,industry:"News & Entertainment",direction:"‚Üì"},
  {rank:8,tag:"#blackhistory",views:"40.4M",views_raw:40419182,posts:"14.2K",posts_raw:14222,industry:"Education",direction:"‚Üë"},
  {rank:9,tag:"#epsteinisland",views:"276.3M",views_raw:276250969,posts:"10.8K",posts_raw:10819,industry:"News & Entertainment",direction:"‚Üí"},
  {rank:10,tag:"#ukweather",views:"121.6M",views_raw:121648375,posts:"14.8K",posts_raw:14810,industry:"",direction:"‚Üí"},
  {rank:11,tag:"#stormgoretti",views:"123.2M",views_raw:123226548,posts:"14.8K",posts_raw:14750,industry:"News & Entertainment",direction:"‚Üí"},
  {rank:12,tag:"#alexwarren",views:"45.2M",views_raw:45212574,posts:"2.4K",posts_raw:2425,industry:"News & Entertainment",direction:"‚Üì"},
  {rank:16,tag:"#tracycortez",views:"13.5M",views_raw:13521030,posts:"4.9K",posts_raw:4902,industry:"Sports & Outdoor",direction:"‚Üë"},
  {rank:18,tag:"#ufc322",views:"11.7M",views_raw:11665184,posts:"4.1K",posts_raw:4074,industry:"Sports & Outdoor",direction:"‚Üì"},
  {rank:19,tag:"#zavala",views:"196.8M",views_raw:196771518,posts:"6.1K",posts_raw:6073,industry:"News & Entertainment",direction:"‚Üë"},
  {rank:23,tag:"#sunsetvibes",views:"3.5M",views_raw:3469404,posts:"3.1K",posts_raw:3051,industry:"",direction:"‚Üí"},
  {rank:24,tag:"#cmpunk",views:"12.0M",views_raw:12020043,posts:"1.7K",posts_raw:1748,industry:"Sports & Outdoor",direction:"‚Üë"},
  {rank:26,tag:"#copadelrey",views:"32.2M",views_raw:32185515,posts:"3.3K",posts_raw:3317,industry:"Sports & Outdoor",direction:"‚Üì"},
  {rank:27,tag:"#benitobowl",views:"108.8M",views_raw:108813244,posts:"8.5K",posts_raw:8548,industry:"Apparel & Accessories",direction:"‚Üì"},
  {rank:30,tag:"#superbowllx",views:"147.8M",views_raw:147817593,posts:"4.2K",posts_raw:4214,industry:"Sports & Outdoor",direction:"‚Üì"},
  {rank:32,tag:"#primadonnagirl",views:"5.0M",views_raw:5030009,posts:"2.0K",posts_raw:1968,industry:"",direction:"‚Üí"},
  {rank:38,tag:"#amorproprio",views:"9.8M",views_raw:9762018,posts:"7.6K",posts_raw:7559,industry:"",direction:"‚Üí"},
  {rank:41,tag:"#giftedinlove",views:"53.0M",views_raw:53031576,posts:"27.5K",posts_raw:27519,industry:"Apparel & Accessories",direction:"‚Üí"},
  {rank:46,tag:"#winterolympics",views:"843.1M",views_raw:843143346,posts:"10.6K",posts_raw:10551,industry:"Sports & Outdoor",direction:"‚Üí"},
  {rank:48,tag:"#tuesdayvibes",views:"1.6M",views_raw:1554782,posts:"3.0K",posts_raw:2971,industry:"",direction:"‚Üë"},
  {rank:49,tag:"#wrestlemania",views:"18.0M",views_raw:18029486,posts:"2.0K",posts_raw:2044,industry:"Sports & Outdoor",direction:"‚Üí"},
];

// ‚îÄ‚îÄ‚îÄ‚îÄ ENGINE ‚îÄ‚îÄ‚îÄ‚îÄ
// Dark mode only ‚Äî no toggle needed

const TAB_CONFIG = [
  {id:'overlaps',label:'‚úÖ Confirmed Trends'},
  {id:'trending',label:'<svg viewBox="0 0 48 48" style="width:14px;height:14px;vertical-align:-2px;margin-right:2px"><path d="M41 4H9C6.24 4 4 6.24 4 9v32c0 2.76 2.24 5 5 5h32c2.76 0 5-2.24 5-5V9c0-2.76-2.24-5-5-5z" fill="none"/><path d="M38.8 16.8c-2.4.2-4.6-.4-6.4-1.6v11.2c0 5.6-4.6 10.2-10.2 10.2-2.2 0-4.2-.7-5.8-1.8-2.8-2-4.4-5.2-4.4-8.4 0-5.6 4.6-10.2 10.2-10.2.6 0 1.2.1 1.8.2v5.2c-.6-.2-1.2-.4-1.8-.4-2.8 0-5 2.2-5 5s2.2 5 5 5c2.8 0 5.2-2.2 5.2-5V4h5c.4 4.6 4.2 8.2 8.8 8.4v4.4z" fill="white"/></svg><svg viewBox="0 0 24 24" style="width:14px;height:14px;vertical-align:-2px;margin-right:4px"><defs><linearGradient id="ig" x1="0" y1="1" x2="1" y2="0"><stop offset="0%" stop-color="#feda75"/><stop offset="25%" stop-color="#fa7e1e"/><stop offset="50%" stop-color="#d62976"/><stop offset="75%" stop-color="#962fbf"/><stop offset="100%" stop-color="#4f5bd5"/></linearGradient></defs><rect x="2" y="2" width="20" height="20" rx="5" fill="none" stroke="url(#ig)" stroke-width="1.5"/><circle cx="12" cy="12" r="5" fill="none" stroke="url(#ig)" stroke-width="1.5"/><circle cx="17.5" cy="6.5" r="1.2" fill="url(#ig)"/></svg> Data Based Trends'},
  {id:'research',label:'üî≠ Research Based Trends'},
  {id:'emerging',label:'üì° Early Signals'},
  {id:'eu',label:'üá™üá∫ EU Trends'},
];

// ‚îÄ‚îÄ‚îÄ‚îÄ EU TRENDING DATA (updated weekly) ‚îÄ‚îÄ‚îÄ‚îÄ
const EU_TRENDS_UPDATED = "2026-02-19";
const EU_TRENDS = {
  "üá©üá™ Germany": [
    {tag:"#valentinstagsdeals", views:"44.7M", posts:"4.0K", relevant:false},
    {tag:"#loveisintheair", views:"32.4M", posts:"2.7K", relevant:true, note:"Love/lifestyle ‚Äî cozy living room setup", idea:"üí° 'Date night in on a FibreGuard sofa' ‚Äî wine, candles, cozy couple moments. Spill the wine? No stress. Wipe clean."},
    {tag:"#damenhoodie", views:"2.0M", posts:"3.4K", relevant:false},
    {tag:"#streng", views:"1.0M", posts:"224", relevant:false},
  ],
  "üá´üá∑ France": [
    {tag:"#coupedefrance", views:"2.1M", posts:"133", relevant:false},
    {tag:"#sportwear", views:"919K", posts:"307", relevant:false},
    {tag:"#tracksuit", views:"1.3M", posts:"231", relevant:false},
    {tag:"#highwaistsportswear", views:"875K", posts:"1.1K", relevant:false},
    {tag:"#offresdelasaintvalentin", views:"44.3M", posts:"7.1K", relevant:false},
  ],
  "üá™üá∏ Spain": [
    {tag:"#copadelrey", views:"50.6M", posts:"2.8K", relevant:false},
    {tag:"#loveisintheair", views:"44.8M", posts:"4.5K", relevant:true, note:"Love/lifestyle ‚Äî cozy home interiors", idea:"üí° Romantic living room transformation ‚Äî styled FibreGuard sofa with throws, cushions, mood lighting. 'Love is in the air‚Ä¶ and so is red wine on the couch.'"},
    {tag:"#ofertasdesanvalent√≠n", views:"52.6M", posts:"5.4K", relevant:false},
    {tag:"#redessociales", views:"6.2M", posts:"512", relevant:false},
  ],
  "üá≥üá± Netherlands": [
    {tag:"#newwave", views:"14.3M", posts:"883", relevant:false},
    {tag:"#badbunny", views:"44.5M", posts:"1.3K", relevant:false},
    {tag:"#grok", views:"392K", posts:"171", relevant:false},
  ],
  "üáÆüáπ Italy": [
    {tag:"#milanocortina2026", views:"463M", posts:"9.0K", relevant:true, note:"Winter Olympics ‚Äî cozy viewing party at home", idea:"üí° 'Olympics watch party but the sofa survives' ‚Äî friends, snacks, drinks, cheering on the couch. Show the mess ‚Üí FibreGuard wipe-clean reveal."},
    {tag:"#olympics", views:"274M", posts:"3.7K", relevant:true, note:"Olympics ‚Äî home viewing content", idea:"üí° 'Your sofa is the real MVP' ‚Äî before/after of a watch party on FibreGuard upholstery. Nachos, beer, celebrations ‚Üí spotless sofa."},
    {tag:"#workwearforstylists", views:"1.2M", posts:"3.1K", relevant:false},
    {tag:"#modestfashion", views:"889K", posts:"389", relevant:false},
    {tag:"#luxuryfashion", views:"949K", posts:"474", relevant:true, note:"Luxury interiors positioning", idea:"üí° 'Luxury you can actually live on' ‚Äî high-end styled room with FibreGuard upholstery. Kids jump on it, pets nap on it, wine gets spilled ‚Üí still looks designer."},
  ],
  "üá¨üáß United Kingdom": [
    {tag:"#chelsea", views:"51.9M", posts:"4.9K", relevant:false},
    {tag:"#beautycrush", views:"35.0M", posts:"12.1K", relevant:false},
    {tag:"#alexwarren", views:"11.6M", posts:"1.3K", relevant:false},
  ],
};

function buildTabs() {
  const euTotal = Object.values(EU_TRENDS).reduce((s,arr)=>s+arr.length, 0);
  const counts = {
    trending: TRENDING_NOW.length,
    overlaps: TRENDS.filter(t=>t.confidence==='overlap').length,
    research: TRENDS.filter(t=>t.confidence==='research').length,
    emerging: TRENDS.filter(t=>t.confidence==='emerging').length,
    eu: euTotal,
  };
  document.getElementById('tab-bar').innerHTML = TAB_CONFIG.map((tc,i) =>
    `<button class="tab ${i===0?'active':''}" onclick="switchTab('${tc.id}',this)">${tc.label}<span class="tab-count">${counts[tc.id]}</span></button>`
  ).join('');
}

function switchTab(tab, el) {
  document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.getElementById('tab-'+tab).classList.add('active');
  if(el) el.classList.add('active');
}

function jumpTab(tab) {
  const tabs = document.querySelectorAll('.tab');
  document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));
  tabs.forEach(t=>t.classList.remove('active'));
  document.getElementById('tab-'+tab).classList.add('active');
  const idx = TAB_CONFIG.findIndex(tc=>tc.id===tab);
  if(idx>=0 && tabs[idx]) tabs[idx].classList.add('active');
}

function searchTrends(q) {
  q = q.toLowerCase().trim();
  document.querySelectorAll('.trend-card').forEach(c => {
    c.classList.toggle('hidden', q && !c.textContent.toLowerCase().includes(q));
  });
}

function filterTrends(filter, btn) {
  document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active'));
  if(btn) btn.classList.add('active');
  document.querySelectorAll('#overview-grid .trend-card').forEach(c => {
    let show = true;
    if(filter==='overlap') show = c.dataset.confidence==='overlap';
    else if(filter==='tiktok') show = c.dataset.platform==='tiktok'||c.dataset.platform==='both';
    else if(filter==='instagram') show = c.dataset.platform==='instagram'||c.dataset.platform==='both';
    else if(filter==='angle') show = c.dataset.angle==='yes';
    c.style.display = show ? 'block' : 'none';
  });
}

function isDeclining(t) {
  return t.proof?.api?.includes('‚Üì‚Üì') || t.proof?.api?.includes('fading');
}
function isNew(t) {
  // Check dateAdded field if present
  if (t.dateAdded) {
    const added = new Date(t.dateAdded);
    const now = new Date();
    return (now - added) < 48 * 60 * 60 * 1000;
  }
  // Auto-detect from proof text: "Feb 19" or "üÜï" in desc
  const proofText = (t.proof?.research||'') + (t.proof?.api||'') + (t.desc||'');
  // Match today's date or yesterday's in "Feb DD" format
  const now = new Date();
  const today = `Feb ${now.getDate()}`;
  const yesterday = `Feb ${now.getDate()-1}`;
  return proofText.includes('üÜï') || proofText.includes(today) || proofText.includes(yesterday);
}

function renderCard(t) {
  const pClass = t.platform==='both'?'both':t.platform;
  const pLabel = t.platform==='both'?'TikTok + IG':t.platform==='tiktok'?'TikTok':'Instagram';
  const confClass = t.confidence+'-badge';
  const confLabel = {overlap:'‚úÖ CONFIRMED',research:'üî≠ EXPLORATORY',emerging:'üì° OTHER PLATFORMS'}[t.confidence]||'';
  const cardClass = t.confidence==='overlap'?'overlap':t.confidence==='research'?'research-only':t.confidence==='emerging'?'emerging-card':'';
  const freshLabels = {hot:'üî• THIS WEEK',warm:'‚ö° ACTIVE',evergreen:'üåø EVERGREEN'};
  const freshClass = t.freshness||'warm';
  const declining = isDeclining(t);
  const isNewTrend = isNew(t);

  // Proof block
  let proofHtml = '';
  if(t.proof) {
    let parts = [];
    if(t.proof.api) parts.push(`<span class="src-api">üìä API:</span> ${t.proof.api}`);
    if(t.proof.research) parts.push(`<span class="src-research">üî¨ Sources:</span> ${t.proof.research}`);
    proofHtml = `<div class="trend-proof">${parts.join(' ¬∑ ')}</div>`;
  }

  const hashHtml = (t.hashtags||[]).map(h =>
    `<span class="hashtag" onclick="navigator.clipboard.writeText('${h}');showToast('Copied ${h}')">${h}</span>`
  ).join('');

  const angleId = 'a-'+Math.random().toString(36).substr(2,6);

  return `
    <div class="trend-card ${cardClass}${declining?' declining':''}" data-confidence="${t.confidence}" data-platform="${t.platform}" data-angle="${t.angle?'yes':'no'}">
      <span class="confidence-badge ${confClass}">${confLabel}</span>
      <div class="trend-header">
        <span class="trend-name">${t.name}</span>
        ${isNewTrend?'<span class="badge-new">üÜï NEW</span>':''}
        <span class="badge ${pClass}">${pLabel}</span>
        <span class="badge ${freshClass}">${freshLabels[freshClass]||''}</span>
        ${declining?'<span class="badge-declining">üìâ FADING</span>':''}
      </div>
      ${t.angle?`<div class="trend-angle-top" id="${angleId}"><span class="angle-label">üí° FibreGuard angle:</span> ${t.angle}<button class="copy-btn" onclick="event.stopPropagation();copyAngle('${angleId}',this)">üìã Copy</button></div>`:''}
      ${proofHtml}
      <div class="trend-desc">${t.desc}</div>
      <div class="trend-meta">
        ${t.meta.views?`<span>üëÅÔ∏è ${t.meta.views} views</span>`:''}
        ${t.meta.posts?`<span>üìä ${t.meta.posts}</span>`:''}
        ${t.meta.score?`<span>üìà Score: ${t.meta.score}</span>`:''}
      </div>
      ${hashHtml?`<div class="trend-hashtags">${hashHtml}</div>`:''}
      ${(t.examples&&t.examples.length)?`<div class="trend-examples">${t.examples.map(e=>`<a href="${e.url}" target="_blank" rel="noopener">‚ñ∂ ${e.label}</a>`).join('')}</div>`:''}
    </div>`;
}

function copyAngle(id, btn) {
  const el = document.getElementById(id);
  const text = el.textContent.replace('üìã Copy','').replace('‚úÖ Copied!','').replace('FibreGuard angle:','').trim();
  navigator.clipboard.writeText(text);
  btn.textContent='‚úÖ Copied!';
  showToast('Angle copied!');
  setTimeout(()=>{btn.textContent='üìã Copy';},2000);
}

function showToast(msg) {
  const t=document.getElementById('toast');
  t.textContent=msg; t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'),2000);
}

function renderRecCard(r) {
  const fitClass = r.fit;
  const fitLabel = {perfect:'üéØ Perfect Fit',strong:'üí™ Strong Fit',natural:'üåø Natural Fit'}[r.fit]||'';
  const pLabel = r.platform==='both'?'TikTok + IG':r.platform==='tiktok'?'TikTok':'Instagram';

  let proofText = '';
  if(r.proof) {
    if(r.proof.api) proofText += 'üìä '+r.proof.api+' ';
    if(r.proof.research) proofText += 'üî¨ '+r.proof.research;
  }

  const exHtml = (r.examples||[]).map(e=>`<a href="${e.url}" target="_blank" rel="noopener">‚ñ∂ ${e.label}</a>`).join('');

  return `
    <div class="rec-card fit-${fitClass}">
      <div class="rec-rank">#${r.rank}</div>
      <div class="rec-header">
        <span class="rec-name">${r.name}</span>
        <span class="fit-badge ${fitClass}">${fitLabel}</span>
        <span class="badge ${r.platform==='both'?'both':r.platform}">${pLabel}</span>
      </div>
      <div class="rec-why">${r.why}</div>
      <div class="rec-desc">${r.desc}</div>
      ${proofText?`<div class="rec-proof">${proofText}</div>`:''}
      <div class="rec-meta">
        ${r.meta.views?`<span>üëÅÔ∏è ${r.meta.views}</span>`:''}
        ${r.meta.posts?`<span>üìä ${r.meta.posts}</span>`:''}
        ${r.meta.score?`<span>üìà ${r.meta.score}</span>`:''}
      </div>
      ${exHtml?`<div class="rec-examples">${exHtml}</div>`:''}
    </div>`;
}

// Hot This Week: Best FibreGuard fits from ALL trends (any confidence tier)
// Brand-safe filter: no personal humor, edgy, political, person-only formats
const HOT_THIS_WEEK = (() => {
  const unsafe = ['shutupmom','euphoriamakeup','blackhistorymonth','thermostat','callmysister','shutup'];
  const brandSafe = TRENDS.filter(t => {
    const nameLower = t.name.toLowerCase();
    if (unsafe.some(u => nameLower.includes(u))) return false;
    // Skip fast-declining
    if (t.proof?.api?.includes('‚Üì‚Üì')) return false;
    // Must have a FibreGuard angle
    if (!t.angle || t.angle.length < 10) return false;
    return true;
  });
  // Ranking priority: Confirmed (overlap) ‚Üí EU ‚Üí Exploratory (research) ‚Üí Emerging
  const freshScore = {hot:2, warm:1, evergreen:0};
  const byFreshness = (a,b) => (freshScore[b.freshness]||0) - (freshScore[a.freshness]||0);

  const confirmed = brandSafe.filter(t=>t.confidence==='overlap').sort(byFreshness);
  const exploratory = brandSafe.filter(t=>t.confidence==='research').sort(byFreshness);
  const emerging = brandSafe.filter(t=>t.confidence==='emerging').sort(byFreshness);

  // Build EU pick
  const euAll = [];
  for (const [country, tags] of Object.entries(EU_TRENDS)) {
    const flag = country.split(' ')[0];
    tags.filter(t=>t.relevant).forEach(t => euAll.push({...t, flag, country}));
  }
  euAll.sort((a,b) => parseViews(b.views) - parseViews(a.views));
  const euPick = euAll.length > 0 ? {
    name: `${euAll[0].flag} ${euAll[0].tag}`,
    confidence: 'eu',
    freshness: 'hot',
    angle: euAll[0].note || '',
    desc: `${euAll[0].views} views ¬∑ ${euAll[0].posts} posts ¬∑ Trending in ${euAll[0].country}`,
    proof: {},
    _isEU: true,
  } : null;

  // Pick best from each tier in order: confirmed ‚Üí EU ‚Üí exploratory ‚Üí emerging
  const picks = [];
  if (confirmed.length > 0) picks.push(confirmed[0]);
  if (euPick) picks.push(euPick);
  if (exploratory.length > 0) picks.push(exploratory[0]);
  if (emerging.length > 0) picks.push(emerging[0]);

  return picks.slice(0, 4);
})();

function buildPriorityQueue() {
  if (HOT_THIS_WEEK.length === 0) {
    document.getElementById('priority-grid').innerHTML = '<div style="color:var(--text3);font-size:13px;padding:12px 0;">No brand-safe trends this week with strong FibreGuard angles.</div>';
    return;
  }
  const confLabel = {overlap:'‚úÖ Confirmed',research:'üî≠ Exploratory',emerging:'üì° Other Platforms',eu:'üá™üá∫ EU Top Pick'};
  const confTab = {overlap:'overlaps',research:'research',emerging:'emerging',eu:'eu'};
  document.getElementById('priority-grid').innerHTML = HOT_THIS_WEEK.map((t,i) => `
    <div class="pq-card" onclick="jumpTab('${confTab[t.confidence]||'overlaps'}')">
      <div class="pq-rank">#${i+1}</div>
      <div class="pq-name">${t.name}</div>
      <div class="pq-conf overlap">${confLabel[t.confidence]||''}</div>
      <div class="pq-angle">${(t.angle||t.desc||'').substring(0,140)}${(t.angle||t.desc||'').length>140?'...':''}</div>
    </div>
  `).join('');
}

function init() {
  document.getElementById('updateTime').textContent = new Date().toLocaleString('en-GB',{
    timeZone:'Europe/Madrid',weekday:'short',day:'numeric',month:'short',year:'numeric',hour:'2-digit',minute:'2-digit'
  })+' CET';

  // Sort within each tier: hot first, declining/fading last
  const freshOrder = {hot:0,warm:1,evergreen:2};
  function sortTrends(arr) {
    return [...arr].sort((a,b) => {
      const aDecl = isDeclining(a) ? 1 : 0;
      const bDecl = isDeclining(b) ? 1 : 0;
      if (aDecl !== bDecl) return aDecl - bDecl; // declining goes last
      return (freshOrder[a.freshness]||2) - (freshOrder[b.freshness]||2);
    });
  }

  // Confirmed Trends: brand-safe only, split active vs fading
  const overlapsAll = sortTrends(TRENDS.filter(t=>t.confidence==='overlap'));
  const overlapsSafe = overlapsAll.filter(t=>t.brandSafe !== false);
  const overlapsUnsafe = overlapsAll.filter(t=>t.brandSafe === false);
  const activeOverlaps = overlapsSafe.filter(t=>!isDeclining(t));
  const fadingOverlaps = overlapsSafe.filter(t=>isDeclining(t));
  let overlapsHtml = activeOverlaps.map(renderCard).join('');
  if (fadingOverlaps.length > 0) {
    overlapsHtml += `<div style="margin-top:20px;padding-top:16px;border-top:1px solid var(--card-border);">
      <div style="font-size:12px;font-weight:600;color:var(--text3);text-transform:uppercase;letter-spacing:1px;margin-bottom:12px;">üìâ Fading ‚Äî May still work on some platforms</div>
      ${fadingOverlaps.map(renderCard).join('')}
    </div>`;
  }
  if (overlapsUnsafe.length > 0) {
    overlapsHtml += `<div style="margin-top:20px;padding-top:16px;border-top:1px solid var(--card-border);">
      <div style="font-size:12px;font-weight:600;color:var(--text3);text-transform:uppercase;letter-spacing:1px;margin-bottom:12px;">‚ö†Ô∏è Confirmed viral but not relevant for FibreGuard</div>
      <div style="display:flex;flex-wrap:wrap;gap:8px;">${overlapsUnsafe.map(t =>
        `<span style="background:var(--bg2);border:1px solid var(--card-border);border-radius:8px;padding:6px 12px;font-size:12px;color:var(--text3);">${t.name}</span>`
      ).join('')}</div>
    </div>`;
  }
  document.getElementById('overlaps-grid').innerHTML = overlapsHtml;

  // Exploratory Trends: cap at 8, show-more for rest
  const research = sortTrends(TRENDS.filter(t=>t.confidence==='research'));
  const CAP = 8;
  if (research.length > CAP) {
    const visible = research.slice(0, CAP).map(renderCard).join('');
    const hidden = research.slice(CAP).map(renderCard).join('');
    document.getElementById('research-grid').innerHTML = visible +
      `<div class="hidden-trends" id="more-research">${hidden}</div>` +
      `<button class="show-more-btn" onclick="document.getElementById('more-research').classList.toggle('show');this.textContent=this.textContent.includes('Show')?'Show less':'Show ${research.length - CAP} more trends'">Show ${research.length - CAP} more trends</button>`;
  } else {
    document.getElementById('research-grid').innerHTML = research.map(renderCard).join('');
  }

  // Other Platforms
  document.getElementById('emerging-grid').innerHTML = sortTrends(TRENDS.filter(t=>t.confidence==='emerging')).map(renderCard).join('');

  buildTabs();
  buildPriorityQueue();
  renderTrendingNow();
  renderEU();
}

function renderTrendingNow() {
  const sorted = [...TRENDING_NOW].sort((a,b) => b.views_raw - a.views_raw);
  const rising = sorted.filter(t => t.direction === '‚Üë');
  const stable = sorted.filter(t => t.direction === '‚Üí');
  const falling = sorted.filter(t => t.direction === '‚Üì');

  function renderTNCard(t) {
    const dirColor = t.direction === '‚Üë' ? 'var(--accent)' : t.direction === '‚Üì' ? 'var(--red)' : 'var(--text3)';
    const dirLabel = t.direction === '‚Üë' ? 'üìà Rising' : t.direction === '‚Üì' ? 'üìâ Falling' : '‚Üí Stable';
    return `<div style="background:var(--card);border:1px solid var(--card-border);border-radius:14px;padding:16px;display:flex;justify-content:space-between;align-items:center;gap:12px;">
      <div style="flex:1;min-width:0;">
        <div style="display:flex;align-items:center;gap:8px;margin-bottom:4px;flex-wrap:wrap;">
          <a href="https://www.tiktok.com/tag/${t.tag.replace('#','')}" target="_blank" rel="noopener" style="font-weight:700;font-size:15px;color:var(--text);text-decoration:none;">${t.tag} ‚Üó</a>
          <span style="font-size:11px;color:${dirColor};font-weight:600;">${dirLabel}</span>
          ${t.industry ? `<span style="font-size:10px;color:var(--text3);background:var(--bg2);padding:2px 8px;border-radius:6px;">${t.industry}</span>` : ''}
        </div>
        <div style="display:flex;gap:16px;font-size:12px;color:var(--text3);">
          <span>üëÄ ${t.views} views</span><span>üìπ ${t.posts} posts</span><span style="color:var(--text3);opacity:0.5;">CC Rank #${t.rank}</span>
        </div>
      </div>
    </div>`;
  }

  let html = `<p style="color:var(--text3);font-size:12px;margin-bottom:20px;">Last updated: ${TRENDING_NOW_UPDATED} ¬∑ Source: TikTok Creative Center via Apify ¬∑ US market ¬∑ Ad-boosted filtered out</p>`;

  if (rising.length > 0) {
    html += `<h3 style="font-size:14px;font-weight:600;color:var(--accent);margin-bottom:12px;">üìà Rising</h3>`;
    html += `<div style="display:grid;gap:8px;margin-bottom:24px;">${rising.map(renderTNCard).join('')}</div>`;
  }
  if (stable.length > 0) {
    html += `<h3 style="font-size:14px;font-weight:600;color:var(--text2);margin-bottom:12px;">‚Üí Holding Steady</h3>`;
    html += `<div style="display:grid;gap:8px;margin-bottom:24px;">${stable.map(renderTNCard).join('')}</div>`;
  }
  if (falling.length > 0) {
    html += `<h3 style="font-size:14px;font-weight:600;color:var(--text3);margin-bottom:12px;">üìâ Cooling Down</h3>`;
    html += `<div style="display:grid;gap:8px;margin-bottom:24px;">${falling.map(renderTNCard).join('')}</div>`;
  }
  document.getElementById('trending-grid').innerHTML = html;
}

function parseViews(v) {
  if (!v) return 0;
  const s = v.toString().replace(/,/g,'');
  if (s.endsWith('B')) return parseFloat(s)*1e9;
  if (s.endsWith('M')) return parseFloat(s)*1e6;
  if (s.endsWith('K')) return parseFloat(s)*1e3;
  return parseFloat(s)||0;
}

function renderEU() {
  // Flatten all tags with country info, then sort by views descending
  const all = [];
  for (const [country, tags] of Object.entries(EU_TRENDS)) {
    const flag = country.split(' ')[0]; // emoji flag
    tags.forEach(t => all.push({...t, country, flag}));
  }
  all.sort((a,b) => parseViews(b.views) - parseViews(a.views));

  const relevant = all.filter(t=>t.relevant);
  const other = all.filter(t=>!t.relevant);

  let html = `<p style="color:var(--text3);font-size:12px;margin-bottom:20px;">Last updated: ${EU_TRENDS_UPDATED} ¬∑ Source: TikTok Trending API (Apify) ¬∑ Top 6 EU markets ¬∑ Ranked by views</p>`;

  // FibreGuard-relevant trends (ranked)
  if (relevant.length > 0) {
    html += `<h3 style="font-size:15px;font-weight:600;color:var(--accent);margin-bottom:14px;">‚úÖ FibreGuard-Relevant Trends</h3>`;
    html += `<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:12px;margin-bottom:28px;">`;
    relevant.forEach((t, i) => {
      html += `<div style="background:var(--card);border:1px solid var(--card-border);border-radius:14px;padding:18px;position:relative;">
        <div style="position:absolute;top:10px;right:14px;font-size:20px;font-weight:800;color:rgba(3,252,123,0.12);">#${i+1}</div>
        <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
          <span style="font-size:18px;">${t.flag}</span>
          <a href="https://www.tiktok.com/tag/${t.tag.replace('#','')}\?lang=en" target="_blank" rel="noopener" style="font-weight:700;color:var(--accent);font-size:15px;text-decoration:none;">${t.tag} ‚Üó</a>
          <span style="background:#34c75922;color:#34c759;font-size:10px;padding:2px 8px;border-radius:6px;font-weight:600;">FG FIT</span>
        </div>
        <div style="display:flex;gap:16px;font-size:12px;color:var(--text3);margin-bottom:8px;">
          <span>üëÄ ${t.views} views</span><span>üìπ ${t.posts} posts</span>
        </div>
        ${t.note ? `<p style="font-size:12px;color:var(--text2);line-height:1.4;">üìå ${t.note}</p>` : ''}
        ${t.idea ? `<div style="margin-top:8px;padding:10px 12px;background:linear-gradient(135deg, rgba(3,252,123,0.08), rgba(3,252,123,0.03));border:1px solid rgba(3,252,123,0.15);border-radius:10px;font-size:12px;line-height:1.5;color:var(--text);">${t.idea}</div>` : ''}
      </div>`;
    });
    html += `</div>`;
  }

  // Other trending (not relevant)
  if (other.length > 0) {
    html += `<h3 style="font-size:14px;font-weight:600;color:var(--text3);margin-bottom:12px;">Other Trending (not FG-relevant)</h3>`;
    html += `<div style="display:flex;flex-wrap:wrap;gap:8px;">`;
    other.forEach(t => {
      html += `<a href="https://www.tiktok.com/tag/${t.tag.replace('#','')}\?lang=en" target="_blank" rel="noopener" style="background:var(--card);border:1px solid var(--card-border);border-radius:8px;padding:6px 12px;font-size:12px;color:var(--text3);text-decoration:none;display:inline-flex;align-items:center;gap:4px;">${t.flag} ${t.tag} ‚Üó <span style="color:var(--text3);opacity:0.6;">${t.views}</span></a>`;
    });
    html += `</div>`;
  }

  document.getElementById('eu-grid').innerHTML = html;
}

init();
</script>
</body>
</html>
